(this.webpackJsonpwalks=this.webpackJsonpwalks||[]).push([[0],{35:function(e,a,t){},41:function(e,a,t){e.exports=t(59)},47:function(e,a,t){},52:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),s=t.n(r),c=(t(46),t(47),t(40)),o=t(22),i=t(21),u=t(18),m=t(23),d=t(24),p=t(28),v=t(26),f=(t(35),t(17)),h=t(37),E=t(31),k=t(8),g=t.n(k),y=(t(49),function(e){Object(p.a)(t,e);var a=Object(v.a)(t);function t(e){var n;Object(m.a)(this,t),(n=a.call(this,e)).inputField=function(e){var a=Math.round(e.target.value);switch(e.target.name){case"endGoal":case"currentAverage":n.setState(Object(u.a)({},e.target.name,a)),localStorage.setItem("walkative.".concat(e.target.name),a);break;default:var t={date:e.target.name,meters:a},l=n.state.walks,r=l.find((function(e){var a=e.date;return t.date===a}));r?r.meters=t.meters:l.push(t),n.setState({walks:l}),localStorage.setItem("walkative.walks",JSON.stringify(l))}n.props.update()},n.fullwalks=function(){for(var e=[],a=n.state,t=a.fromMoment,l=a.daysPassed,r=a.currentAverage,s=a.walks,c=void 0===s?[]:s,o=t.clone(),i=function(a){var t=o.format("Y-MM-DD"),n=c.find((function(e){var a=e.date;return t===a})),l={date:t,meters:n?n.meters:r,auto:!n};e.push(l),o.add(1,"d")},u=0;u<l;u++)i();return e},n.dayOfWalk=function(){return n.fullwalks().reverse().map((function(e){return l.a.createElement("div",{className:"dayofWalk",style:{fontStyle:e.auto?"italic":""}},l.a.createElement("span",null,e.date),l.a.createElement("input",{name:e.date,onChange:n.inputField,value:e.meters,type:"number",pattern:"[0-9]*"}))}))};var r=g()([2020,0]),s=g()([2021,0]).diff(r,"days"),c=g()().diff(r,"days");return n.state={endGoal:3e3,currentAverage:2400,daysthisYear:s,daysPassed:c,fromMoment:r,walks:[]},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(e){for(var a=0;a<localStorage.length;a++){var t=localStorage.key(a);t.includes("walkative.")&&this.setState(Object(u.a)({},t.split("walkative.").pop(),JSON.parse(localStorage.getItem(t))))}}},{key:"render",value:function(){return l.a.createElement("div",{className:"goals ".concat(this.props.open?"open":"")},l.a.createElement("div",null,l.a.createElement("span",null,"Meters per day"),l.a.createElement("input",{name:"endGoal",onChange:this.inputField,value:this.state.endGoal,type:"number",pattern:"[0-9]*"})),l.a.createElement("div",null,l.a.createElement("span",null,"Default average"),l.a.createElement("input",{name:"currentAverage",onChange:this.inputField,value:this.state.currentAverage,type:"number",pattern:"[0-9]*"})),l.a.createElement("hr",null),this.dayOfWalk())}}]),t}(l.a.Component)),w=function(e){Object(p.a)(t,e);var a=Object(v.a)(t);function t(e){var n;Object(m.a)(this,t),(n=a.call(this,e)).goalsOpen=function(){n.setState({goalsOpen:!n.state.goalsOpen})},n.fullwalks=function(){for(var e=0,a=n.state,t=a.fromMoment,l=a.daysPassed,r=a.currentAverage,s=a.walks,c=void 0===s?[]:s,o=t.clone(),i=function(a){var t=o.format("Y-MM-DD"),n=c.find((function(e){var a=e.date;return t===a}));e+=n?n.meters:r,o.add(1,"d")},u=0;u<l;u++)i();return e},n.update=function(){for(var e=0;e<localStorage.length;e++){var a=localStorage.key(e);a.includes("walkative.")&&n.setState(Object(u.a)({},a.split("walkative.").pop(),JSON.parse(localStorage.getItem(a))))}};var l=g()([2020,0]),r=g()([2021,0]).diff(l,"days"),s=g()().diff(l,"days");return n.state={endGoal:3e3,currentAverage:0,daysthisYear:r,daysPassed:s,goalsOpen:!1,walks:[],fromMoment:l},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(e){this.update()}},{key:"render",value:function(){var e=this.fullwalks(),a=this.state,t=a.daysPassed,n=a.endGoal,r=a.daysthisYear,s=a.goalsOpen,c=e/t,o=(c*(r-t)+e)/1e3,i=n*r,u=(i-e)/(r-t)/1e3,m=n/1e3*t,d=e/i*100,p=c/n*100,v=e<m,k=(i-e)/1e3;return console.log(i,e),l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"walks"},"Walk Motivator",l.a.createElement(h.a,{onClick:this.goalsOpen,variant:"success"}," ")),l.a.createElement("main",null,l.a.createElement(y,{open:s,update:this.update}),l.a.createElement(f.a,{controls:"false"},l.a.createElement(f.a.Item,null,l.a.createElement("div",{className:"box"},l.a.createElement(f.a.Caption,null,l.a.createElement("h2",null,"You have walked ",l.a.createElement("span",{className:v&&"notReached"},e/1e3," km")," this year"),l.a.createElement("h4",null,"The goal is ",l.a.createElement("span",null,m," km")),l.a.createElement("h2",null,"That would be ",l.a.createElement("span",{className:v&&"notReached"},o.toFixed(2)," km")," in a year"),l.a.createElement("h4",null,"Walk ",l.a.createElement("span",null,i/1e3," km")," this year!"),l.a.createElement("h2",null,"You still need to walk ",l.a.createElement("span",{className:k>0&&"notReached"},k.toFixed(2)," km")," this year"),l.a.createElement(E.a,{variant:"success",now:d})))),l.a.createElement(f.a.Item,null,l.a.createElement("div",{className:"box"},l.a.createElement(f.a.Caption,null,l.a.createElement("h2",null,"The current average is ",l.a.createElement("span",{className:v&&"notReached"},(c/1e3).toFixed(2)," km")," per day"),l.a.createElement("h4",null,"The goal is ",l.a.createElement("span",null,n/1e3," km")," per day"),l.a.createElement("h2",null,"Want to succeed?"),l.a.createElement("h4",null,"Start walking ",l.a.createElement("span",null,u.toFixed(2)," km")," every day"),l.a.createElement("h2",null,"You are so close!"),l.a.createElement(E.a,{variant:"success",now:p})))))))}}]),t}(l.a.Component);t(52);function b(){return l.a.createElement(c.a,{basename:"/"},l.a.createElement("div",{className:"App"},l.a.createElement(o.a,{expand:"lg",variant:"dark"},l.a.createElement(o.a.Brand,{href:"/"},"Peters Stuff"),l.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(o.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(i.a,{className:"mr-auto"},l.a.createElement(i.a.Link,{href:"/"},"Home"),l.a.createElement(i.a.Link,{href:"/eggs"},"Eggs"),l.a.createElement(i.a.Link,{href:"/walks"},"Walks")))),l.a.createElement(w,null),l.a.createElement("footer",null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.197b2b4e.chunk.js.map